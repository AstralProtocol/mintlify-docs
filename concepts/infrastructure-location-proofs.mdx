---
title: "Infrastructure Location Proofs"
description: "Verifying where compute infrastructure operates, not just where users are"
---

<Warning>
  **Research Preview** — Infrastructure location proofs represent an emerging use case. Patterns are evolving.
</Warning>

# Infrastructure Location Proofs

While most location verification focuses on **users** (where is this person?), infrastructure location proofs answer a different question: **where is this compute running?**

## User vs. Infrastructure Location

Traditional location proofs verify end-user positions — someone minting an NFT, joining a DAO, or making a trade. Infrastructure location proofs verify where **systems themselves** operate.

| Aspect | User Location Proofs | Infrastructure Location Proofs |
|--------|---------------------|-------------------------------|
| **Subject** | Human with a device | Server, node, agent, or service |
| **Frequency** | Per-action (mint, trade, vote) | Continuous or periodic |
| **Trust model** | User attests their position | Infrastructure attests its deployment |
| **Use cases** | Geofenced apps, POAPs, local currencies | Data sovereignty, regulatory compliance, decentralization verification |

## Why Infrastructure Location Matters

### 1. Data Sovereignty

Regulations like GDPR require data to be processed within specific jurisdictions. Infrastructure location proofs can verify that compute handling EU citizen data actually runs within the EU.

```
┌─────────────────────────────────────────┐
│  EU Data Processing Requirement         │
├─────────────────────────────────────────┤
│  User Data ──► [Compute Node] ──► Result│
│                     │                   │
│              Location Proof:            │
│              "Running in Frankfurt"     │
└─────────────────────────────────────────┘
```

### 2. Decentralization Verification

Blockchain networks claim geographic distribution, but how do you verify it? Infrastructure location proofs can attest that validators, sequencers, or nodes actually run in diverse locations.

### 3. Latency Guarantees

Services promising low-latency access to specific regions can prove their infrastructure actually operates there, not in a distant data center.

### 4. Regulatory Compliance

Financial services, healthcare, and other regulated industries may require compute to run within specific jurisdictions. Location proofs provide auditable evidence.

## The Infrastructure Attestation Pattern

Infrastructure location proofs follow a different pattern than user proofs:

<Steps>
  <Step title="Infrastructure deployment">
    A service, agent, or node is deployed to a specific geographic location
  </Step>
  <Step title="Location attestation">
    The infrastructure creates periodic location attestations proving where it runs
  </Step>
  <Step title="Policy verification">
    Astral verifies the infrastructure's location against required policies (must be in EU, must be distributed across 3+ regions, etc.)
  </Step>
  <Step title="Onchain record">
    Policy attestations are submitted onchain for auditability and smart contract integration
  </Step>
</Steps>

## Trust Considerations

Infrastructure location proofs face unique challenges:

### Hardware Attestation

Unlike mobile devices with GPS, servers typically lack built-in location hardware. Approaches include:

- **IP geolocation** — Approximate but spoofable
- **Network topology analysis** — Latency measurements to known endpoints
- **TEE attestation** — Hardware-backed proofs of execution environment
- **Physical attestation** — Third-party verification of data center location

### Continuous Verification

User location is checked once per action. Infrastructure location may need continuous or periodic verification to ensure services don't migrate after initial attestation.

```typescript
// Periodic infrastructure attestation pattern
async function maintainLocationProof(astral: AstralSDK, intervalMs: number) {
  setInterval(async () => {
    const infrastructureLocation = await getInfrastructureLocation();

    await astral.location.create({
      type: 'Point',
      coordinates: infrastructureLocation.coordinates
    }, {
      submitOnchain: true,
      metadata: {
        nodeId: process.env.NODE_ID,
        timestamp: Date.now(),
        attestationType: 'infrastructure'
      }
    });
  }, intervalMs);
}
```

### Operator Trust

Who attests to infrastructure location? Options include:

- **Self-attestation** — The infrastructure attests its own location (requires additional verification)
- **Operator attestation** — The infrastructure operator provides location proofs
- **Third-party attestation** — Independent auditors verify physical location
- **Consensus attestation** — Multiple parties must agree on location

## Integration with Astral

Infrastructure location proofs use the same primitives as user proofs:

```typescript
// Verify infrastructure is within required region
const complianceCheck = await astral.compute.contains(
  euRegionPolygonUID,
  infrastructureLocationUID,
  {
    schema: INFRASTRUCTURE_COMPLIANCE_SCHEMA,
    recipient: operatorAddress
  }
);

if (complianceCheck.result) {
  // Infrastructure is compliant — operating within EU
}
```

## Combining with User Proofs

The most powerful patterns combine infrastructure and user location proofs:

```
User in EU ──────────────────┐
                             ▼
                    ┌────────────────┐
                    │ Policy Engine  │
                    │ (also in EU)   │──► Result: Both compliant
                    └────────────────┘
                             ▲
Infrastructure in EU ────────┘
```

This enables end-to-end location compliance: verifying both that the user is authorized for a region AND that their data is processed within that region.

## Current Limitations

<Warning>
  Infrastructure location proofs are an emerging pattern. Current limitations include:

  - **No standardized hardware attestation** for server location
  - **IP geolocation is approximate** and can be spoofed via VPNs
  - **TEE attestation proves code execution**, not physical location
  - **Third-party verification** requires trusted auditors
</Warning>

## Future Directions

Infrastructure location proofs will mature through:

1. **AVS consensus** — Multiple operators verify infrastructure location
2. **Hardware attestation standards** — Purpose-built hardware for server location proofs
3. **Network-based verification** — Cryptographic proofs based on network topology
4. **Regulatory frameworks** — Standards for location compliance in different jurisdictions

<Card title="Next: Agent Location Verification" icon="robot" href="/guides/agent-location-verification">
  Learn how autonomous agents can prove their operating location
</Card>
