---
title: "Location"
description: "Location attestation methods"
---

<Warning>
  **Development Preview** â€” The SDK is under development.
</Warning>

# Location Methods

The `astral.location` namespace provides methods for creating and querying location attestations.

## create()

Create a new location attestation.

```typescript
astral.location.create(
  geometry: GeoJSON.Geometry | GeoJSON.Feature,
  options?: CreateOptions
): Promise<LocationAttestation>
```

### Options

```typescript
interface CreateOptions {
  submitOnchain?: boolean;    // Submit to EAS onchain (default: false)
  storage?: 'ipfs' | 'arweave' | 'none';  // Offchain storage
  metadata?: {
    name?: string;
    description?: string;
    [key: string]: any;
  };
}
```

### Example

```typescript
// Create offchain attestation
const location = await astral.location.create({
  type: 'Point',
  coordinates: [2.2945, 48.8584]
});

console.log(location.uid);
console.log(location.signature);

// Create onchain attestation
const onchainLocation = await astral.location.create({
  type: 'Point',
  coordinates: [2.2945, 48.8584]
}, {
  submitOnchain: true,
  metadata: {
    name: "Eiffel Tower",
    description: "Iconic Paris landmark"
  }
});

console.log(onchainLocation.uid);  // Onchain UID
```

---

## get()

Retrieve a location attestation by UID.

```typescript
astral.location.get(
  uid: string
): Promise<LocationAttestation>
```

### Example

```typescript
const location = await astral.location.get('0xabc123...');

console.log(location.geometry);   // { type: 'Point', coordinates: [...] }
console.log(location.attester);   // Signer address
console.log(location.timestamp);  // Creation time
```

---

## query()

Query location attestations with filters.

```typescript
astral.location.query(
  filters: QueryFilters
): Promise<LocationAttestation[]>
```

### Filters

```typescript
interface QueryFilters {
  bbox?: [number, number, number, number];  // [minLon, minLat, maxLon, maxLat]
  attester?: string;        // Filter by attester address
  recipient?: string;       // Filter by recipient address
  limit?: number;           // Max results (default: 100)
  offset?: number;          // Pagination offset
}
```

### Example

```typescript
// Query locations in San Francisco
const locations = await astral.location.query({
  bbox: [-122.5, 37.7, -122.4, 37.8],
  limit: 50
});

for (const loc of locations) {
  console.log(loc.uid, loc.geometry);
}
```

---

## Return Type

```typescript
interface LocationAttestation {
  uid: string;
  geometry: GeoJSON.Geometry;
  geometryType: string;
  srs: string;                // Spatial reference (default: EPSG:4326)
  properties?: Record<string, any>;
  attester: string;
  recipient: string;
  timestamp: number;
  signature: string;
  onchain: boolean;
  uri?: string;               // For offchain attestations
}
```

---

## Coordinate Format

Coordinates use GeoJSON standard: **[longitude, latitude]**

```typescript
// San Francisco
const sf = {
  type: 'Point',
  coordinates: [-122.4194, 37.7749]  // [lon, lat]
};

// Polygon (counterclockwise, closed)
const area = {
  type: 'Polygon',
  coordinates: [[[
    [-122.42, 37.77],
    [-122.41, 37.77],
    [-122.41, 37.78],
    [-122.42, 37.78],
    [-122.42, 37.77]  // Close the ring
  ]]]
};
```

<Card title="Next: EAS Methods" icon="signature" href="/sdk/eas">
  Learn about EAS submission methods
</Card>
